<h1>All the tracks 

<!-- When submit the form, the view rendered will be the index view of our articles resource -->
<%= form_tag(root_path, :method => "get", class: "navbar-form", id: "search-form") do %>
  <div class="input-append">
    <%= text_field_tag :search, params[:search], class: "span2", placeholder: "search tracks" %>
    <!-- In order to have the "search" icon int the button, we need to use plain HTML instead 
         of using a Rails form helper -->
    <button class="btn btn-default" type="submit"><i class="icon-search"></i></button>
  </div>
<% end %>

<% @visited.each do |track, indent| %>
  <%= raw(('&nbsp') * indent) %>
  <%= track.mix_id %>
  <% if track.name == '<file removed>' %>
    <%= track.name %>
    <br>
    <% next %> <!-- skip to the next iteration -->
  <% elsif track.name != '' %>
    <%= link_to track.name, mix_path(track) %>
  <% else %> <!-- if the track exists but it's not named (name is an empty string) -->
    <%= link_to 'Track' + track.id.to_s, mix_path(track)%>
  <% end %>

  <% if !track.audio_file_url.nil? %>
    <% track.audio_file %>
    <%= link_to 'listen', track.audio_file.url %>
    <%= link_to 'download', download_mix_path(track) %>
    <%= link_to 'mix', new_mix_mix_path(track) %>
  <% end %>
  <%= link_to User.find(track.user_id).name, user_mixes_path(track.user_id) if track.user_id  %>
  <br>
<% end %>